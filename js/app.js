// „Çµ„É≥„Éó„É´Ë®ò‰∫ã„Éá„Éº„Çø
const articles = [
    {
        id: 'article-1',
        title: '„ÄêÈù©ÂëΩ„ÄëThreadsÂÆåÂÖ®ÊîªÁï•„Éû„Éã„É•„Ç¢„É´',
        category: '„Éì„Ç∏„Éç„Çπ',
        categorySlug: 'business',
        image: 'https://placehold.jp/300x200.png',
        rating: 5,
        reviewCount: 142,
        tags: ['Twitter', 'ÂâØÊ•≠'],
        price: 4980,
        claps: 1134,
        author: {
            name: 'ÂØùÁ®º„Åé„Åï„Çì',
            avatar: 'https://placehold.jp/30x30.png',
            publishDate: '2024/10/19 20:44'
        },
        isFavorite: false
    },
    {
        id: 'article-2',
        title: '„Äê1300ÈÉ®Á™ÅÁ†¥„Äë-Thunder Fashion Book- „Éû„Éç„Åô„Çã„Å†„Åë„Åß„Ç™„Ç∑„É£„É¨„Å´„Å™„Çå„ÇãÁ¶ÅÊñ≠„ÅÆ„Éï„Ç°„ÉÉ„Ç∑„Éß„É≥„Éè„ÉÉ„ÇØ',
        category: 'ÁæéÂÆπ„ÉªÂÅ•Â∫∑',
        categorySlug: 'beauty',
        image: 'https://placehold.jp/300x200.png',
        tags: ['„Éï„Ç°„ÉÉ„Ç∑„Éß„É≥', '„Ç™„Ç∑„É£„É¨'],
        price: 6480,
        claps: 2808,
        author: {
            name: 'T',
            avatar: 'https://placehold.jp/30x30.png',
            publishDate: '2024/10/01 19:45'
        },
        isFavorite: false
    },
    {
        id: 'article-3',
        title: 'Ê≥ï‰∫∫„Çí‰Ωú„Å£„Åü„Åë„Å©ÈäÄË°åÂè£Â∫ß„ÅåÈñãË®≠„Åß„Åç„Å™„ÅÑÔºÅ„ÄÄ„Åù„Çì„Å™„ÅÇ„Å™„Åü„ÅÆ„Åü„ÇÅ„ÅÆËß£Ê±∫Á≠ñÔºàÂÖÉÈäÄË°åÂì°Áõ£‰øÆÔºâ',
        category: '„Éì„Ç∏„Éç„Çπ',
        categorySlug: 'business',
        image: 'https://placehold.jp/300x200.png',
        tags: ['Âè£Â∫ßÈñãË®≠', 'Ê≥ï‰∫∫Âè£Â∫ß'],
        price: 2880,
        claps: 0,
        author: {
            name: '„Å©„Çâ„Å≠„Åì',
            avatar: 'https://placehold.jp/30x30.png',
            publishDate: '2025/02/06 00:31'
        },
        isFavorite: false
    },
    {
        id: 'article-4',
        title: '„ÄêThe. ùïè „Äë"Ë§áÊï∞„Ç¢„Ç´„Ç¶„É≥„Éà&ÊúÄÁü≠1„É∂Êúà„Åß"ÊúàÂèé100‰∏áÂÜÜ„ÇíÈÅîÊàê„Åó„Åü„ÄÅ„Å™„Åæ„ÅÑ„Åç„Åè„ÇìÊµÅùïèÈÅãÁî®Ë°ì',
        category: '„Éì„Ç∏„Éç„Çπ',
        categorySlug: 'business',
        image: 'https://placehold.jp/300x200.png',
        rating: 4.8,
        reviewCount: 39,
        tags: ['Twitter', 'ÂâØÊ•≠'],
        price: 49800,
        claps: 12791,
        author: {
            name: '„Å™„Åæ„ÅÑ„Åç„Åè„Çì',
            avatar: 'https://placehold.jp/30x30.png',
            publishDate: '2023/09/01 19:00'
        },
        isFavorite: false
    },
    {
        id: 'article-5',
        title: '„Ç≥„É≥„ÉÜ„É≥„ÉÑË©ï‰æ°Á∑èÂêà1‰Ωç„ÄêÁ¥ØË®à5000ÈÉ®Á™ÅÁ†¥„ÄëÂâØÊ•≠ÂàùÂøÉËÄÖÂêë„Åë„Éï„É™„Éº„É©„É≥„ÇπÈ§äÊàêË¨õÂ∫ß„Äê„ÅäÂæó„Å™ÂâØÊ•≠„Éï„É´„Çª„ÉÉ„Éà„Äë‚ÄªÂÖ®7‰∏áÂ≠ó',
        category: '„Éì„Ç∏„Éç„Çπ',
        categorySlug: 'business',
        image: 'https://placehold.jp/300x200.png',
        rating: 5,
        reviewCount: 11,
        tags: ['ÂâØÊ•≠', '„Éç„ÉÉ„ÉàÂâØÊ•≠'],
        price: 18900,
        claps: 471,
        author: {
            name: 'ÂâØÊ•≠„Ç™„Çø„ÇØ„Å´„ÇÉ„ÅµÔΩû@Ê•ΩÈÅé„Åé„ÇãÂâØÊ•≠',
            avatar: 'https://placehold.jp/30x30.png',
            publishDate: '2023/12/31 22:23'
        },
        isFavorite: false
    },
    {
        id: 'article-6',
        title: '„Äê130ÈÉ®ÂÆåÂ£≤‚ú®„ÄëAI√óÁâ©Ë≤©√ó„Ç≥„Éî„Éö„ÅßÊúà10‰∏á„ÇíÁîü„ÅøÂá∫„ÅôÂú®ÂÆÖ„ÉØ„Éº„ÇØ„Éû„Éã„É•„Ç¢„É´„Äê„Çπ„Ç≠„É´‰∏çË¶ÅÔºÅ„Äë',
        category: '„Éì„Ç∏„Éç„Çπ',
        categorySlug: 'business',
        image: 'https://placehold.jp/300x200.png',
        price: 29800,
        claps: 418,
        author: {
            name: '„Åø„ÇÜ„Åç',
            avatar: 'https://placehold.jp/30x30.png',
            publishDate: '2025/02/21 19:09'
        },
        isFavorite: false
    },
    {
        id: 'article-7',
        title: '„É≠„Éº„ÇΩ„ÇØË∂≥„ÅÆÂì≤Â≠¶ÔΩûHow to Beat Binary OptionsÔΩû',
        category: '„Éû„Éç„Éº',
        categorySlug: 'money',
        image: 'https://placehold.jp/300x200.png',
        tags: ['FX', '„Éê„Ç§„Éä„É™„Éº„Ç™„Éó„Ç∑„Éß„É≥'],
        price: 30000,
        claps: 5693,
        author: {
            name: 'Profilingk',
            avatar: 'https://placehold.jp/30x30.png',
            publishDate: '2023/03/04 18:00'
        },
        isFavorite: false
    },
    {
        id: 'article-8',
        title: '„ÄêÊúÄÈÄü1Êó•„ÅßÂ•≥„Ç¶„Ç±„Ç≥„Éº„ÉáGET„ÄëÁ©∂Ê•µ„É¢„ÉÜ„Éï„Ç°„ÉÉ„Ç∑„Éß„É≥„Ç¢„Ç§„ÉÜ„É†Â§ßÂÖ® ‚óÜ„É¢„ÉÜ„Ç¢„Ç§„ÉÜ„É†130Ë∂ä„Åà&„Ç≥„Éº„ÉáÈõÜ175Ë∂ä„Åà‚óÜ',
        category: 'ÊÅãÊÑõ',
        categorySlug: 'love',
        image: 'https://placehold.jp/300x200.png',
        rating: 5,
        reviewCount: 4,
        tags: ['„Éû„ÉÉ„ÉÅ„É≥„Ç∞„Ç¢„Éó„É™', '„Éï„Ç°„ÉÉ„Ç∑„Éß„É≥'],
        price: 14980,
        claps: 1163,
        author: {
            name: '„É©„ÉÜ„Çπ@Â§ñË¶ãÊîπÂñÑ„Ç≥„É≥„Çµ„É´ReMake',
            avatar: 'https://placehold.jp/30x30.png',
            publishDate: '2025/02/08 19:05'
        },
        isFavorite: false
    },
    {
        id: 'article-9',
        title: '„Äú‰∏âÂàÄÊµÅ„ÄúÊúà100„Äú300‰∏á„ÇíÂÆâÂÆö„Åó„Å¶Â£≤„Çã„Äå‰ΩéÂçò‰æ°√ó‰∏≠Âçò‰æ°√óÈ´òÂçò‰æ°„Äç„Éû„Éº„Ç±„ÉÜ„Ç£„É≥„Ç∞',
        category: '„Éì„Ç∏„Éç„Çπ',
        categorySlug: 'business',
        image: 'https://placehold.jp/300x200.png',
        tags: ['„Éç„ÉÉ„ÉàÂâØÊ•≠', '„Éû„Éº„Ç±„ÉÜ„Ç£„É≥„Ç∞'],
        price: 49800,
        claps: 240,
        author: {
            name: '„Åã„Åë„Å°',
            avatar: 'https://placehold.jp/30x30.png',
            publishDate: '2024/10/18 18:00'
        },
        isFavorite: false
    }
];

// DOMË™≠„ÅøËæº„ÅøÂÆå‰∫ÜÂæå„Å´ÂÆüË°å
document.addEventListener('DOMContentLoaded', function() {
    const articleGrid = document.getElementById('article-grid');
    
    // Ë®ò‰∫ã„Ç´„Éº„Éâ„ÇíÁîüÊàê„Åó„Å¶Ë°®Á§∫
    renderArticles(articles);
    
    // Ë®ò‰∫ã„Ç´„Éº„ÉâÁîüÊàêÈñ¢Êï∞
    function renderArticles(articlesData) {
        articleGrid.innerHTML = '';
        
        articlesData.forEach(article => {
            const articleCard = createArticleCard(article);
            articleGrid.appendChild(articleCard);
        });
    }
    
    // Ë®ò‰∫ã„Ç´„Éº„ÉâHTMLÁîüÊàêÈñ¢Êï∞
    function createArticleCard(article) {
        const card = document.createElement('div');
        card.className = 'article-card';
        card.dataset.id = article.id;
        
        let ratingHTML = '';
        if (article.rating) {
            ratingHTML = `
                <div class="article-rating">
                    <span class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                    <span class="rating-value">${article.rating}</span>
                    <span class="review-count">(${article.reviewCount}‰ª∂)</span>
                </div>
            `;
        }
        
        let tagsHTML = '';
        if (article.tags && article.tags.length > 0) {
            tagsHTML = `
                <div class="article-tags">
                    ${article.tags.map(tag => `<span class="tag">#${tag}</span>`).join('')}
                </div>
            `;
        }
        
        card.innerHTML = `
            <div class="article-image">
                <a href="article.html?id=${article.id}">
                    <img src="${article.image}" alt="${article.title}">
                </a>
            </div>
            <div class="article-content">
                <a href="category.html?slug=${article.categorySlug}" class="article-category">${article.category}</a>
                <h3 class="article-title">
                    <a href="article.html?id=${article.id}">${article.title}</a>
                </h3>
                ${ratingHTML}
                ${tagsHTML}
                <div class="article-meta">
                    <div class="clap">
                        <span class="clap-icon">üëè</span>
                        <span class="clap-count">${article.claps.toLocaleString()}</span>
                    </div>
                    <div class="price">
                        <div class="price-value">¬•${article.price.toLocaleString()}</div>
                        <div class="price-point">1%Áç≤Âæó (${Math.floor(article.price / 100)}ÂÜÜÁõ∏ÂΩì)</div>
                    </div>
                </div>
                <div class="article-author">
                    <div class="author-avatar">
                        <img src="${article.author.avatar}" alt="${article.author.name}">
                    </div>
                    <div class="author-info">
                        <div class="author-name">${article.author.name}</div>
                        <div class="publish-date">${article.author.publishDate}</div>
                    </div>
                    <div class="favorite ${article.isFavorite ? 'active' : ''}">‚ô°</div>
                </div>
            </div>
        `;
        
        // „ÅäÊ∞ó„Å´ÂÖ•„Çä„Éú„Çø„É≥„ÅÆ„Ç§„Éô„É≥„Éà„Éè„É≥„Éâ„É©„Éº
        const favoriteBtn = card.querySelector('.favorite');
        favoriteBtn.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            this.classList.toggle('active');
            // ÂÆüÈöõ„ÅÆ„Ç∑„Çπ„ÉÜ„É†„Åß„ÅØ„Åì„Åì„ÅßAPI„É™„ÇØ„Ç®„Çπ„Éà„ÇíÈÄÅ„Çã„Å™„Å©„ÅÆÂá¶ÁêÜ„ÇíË°å„ÅÜ
        });
        
        return card;
    }
    
    // Ê§úÁ¥¢Ê©üËÉΩ
    const searchForms = document.querySelectorAll('form');
    searchForms.forEach(form => {
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            const keyword = this.querySelector('input').value.trim().toLowerCase();
            if (!keyword) return;
            
            const filteredArticles = articles.filter(article => 
                article.title.toLowerCase().includes(keyword) || 
                article.category.toLowerCase().includes(keyword) ||
                (article.tags && article.tags.some(tag => tag.toLowerCase().includes(keyword)))
            );
            
            renderArticles(filteredArticles);
        });
    });
    
    // „Çø„ÉñÂàá„ÇäÊõø„Åà
    const tabs = document.querySelectorAll('.tab-item');
    tabs.forEach(tab => {
        tab.addEventListener('click', function(e) {
            e.preventDefault();
            // „Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™„Çø„Éñ„ÇíÂàá„ÇäÊõø„Åà„Çã
            tabs.forEach(t => t.classList.remove('active'));
            this.classList.add('active');
            // ÂÆüÈöõ„ÅÆ„Ç∑„Çπ„ÉÜ„É†„Åß„ÅØ„Åì„Åì„Åß„Çø„Éñ„Å´Âøú„Åò„Åü„Ç≥„É≥„ÉÜ„É≥„ÉÑ„Çí„Éï„Ç£„É´„Çø„É™„É≥„Ç∞„Åô„Çã
        });
    });
    
    // „Éï„Ç£„É´„Çø„Éº„Éú„Çø„É≥
    const filterButtons = document.querySelectorAll('.filter-btn');
    filterButtons.forEach(btn => {
        btn.addEventListener('click', function(e) {
            e.preventDefault();
            // „Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™„Éï„Ç£„É´„Çø„Éº„ÇíÂàá„ÇäÊõø„Åà„Çã
            filterButtons.forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            
            const filter = this.textContent.trim();
            let filteredArticles = [...articles];
            
            if (filter === 'ÊúâÊñô') {
                filteredArticles = articles.filter(article => article.price > 0);
            } else if (filter === 'ÁÑ°Êñô') {
                filteredArticles = articles.filter(article => article.price === 0);
            }
            
            renderArticles(filteredArticles);
        });
    });
    
    // „ÇΩ„Éº„Éà„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„ÅÆ„Éà„Ç∞„É´Ôºà„Çµ„É≥„Éó„É´ÂÆüË£ÖÔºâ
    const sortToggle = document.querySelector('.sort-toggle');
    if (sortToggle) {
        sortToggle.addEventListener('click', function(e) {
            e.preventDefault();
            // ÂÆüÈöõ„ÅÆ„Ç∑„Çπ„ÉÜ„É†„Åß„ÅØ„Åì„Åì„Åß„Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥„É°„Éã„É•„Éº„ÇíË°®Á§∫„Åô„Çã
            alert('„ÇΩ„Éº„Éà„Ç™„Éó„Ç∑„Éß„É≥: Êñ∞ÁùÄÈ†Ü / ‰∫∫Ê∞óÈ†Ü (1„É∂Êúà) / ‰∫∫Ê∞óÈ†Ü (ÂÖ®ÊúüÈñì)');
        });
    }
    
    // „Éö„Éº„Ç∏„Éç„Éº„Ç∑„Éß„É≥„É™„É≥„ÇØÔºà„Çµ„É≥„Éó„É´ÂÆüË£ÖÔºâ
    const paginationLinks = document.querySelectorAll('.pagination a');
    paginationLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            if (this.parentElement.classList.contains('disabled')) return;
            e.preventDefault();
            // „Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™„Éö„Éº„Ç∏„ÇíÂàá„ÇäÊõø„Åà„Çã
            document.querySelectorAll('.pagination li').forEach(li => li.classList.remove('active'));
            this.parentElement.classList.add('active');
            // ÂÆüÈöõ„ÅÆ„Ç∑„Çπ„ÉÜ„É†„Åß„ÅØ„Åì„Åì„Åß„Éö„Éº„Ç∏„É≥„Ç∞API„ÇíÂëº„Å≥Âá∫„Åô
        });
    });
});
